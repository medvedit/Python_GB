import datetime
import emoji

def moon_day():
    now_data = datetime.datetime.today() # Ñ‚ĞµĞºÑƒÑ‰Ğ°Ñ Ğ´Ğ°Ñ‚Ğ° Ğ¸ Ğ²Ñ€ĞµĞ¼Ñ.
    date_start_count = datetime.datetime(1970, 1, 1) # Ğ´Ğ°Ñ‚Ğ° Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ¾ Ğ¾Ñ‚ÑÑ‡ĞµÑ‚Ğ°.
    data = now_data - date_start_count

    mm, ss = divmod(data.seconds, 60)
    hh, mm = divmod(mm, 60)
    # print('Ğ˜Ñ‚Ğ¾Ğ³Ğ¾ Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ğ° ÑĞ¾ÑÑ‚Ğ°Ğ²Ğ¸Ğ»Ğ°: {} Ğ´Ğ½ĞµĞ¹ {} Ñ‡Ğ°ÑĞ° {} Ğ¼Ğ¸Ğ½ {} ÑĞµĞº.'.format(data.days, hh, mm, ss)) # Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ´Ğ½ĞµĞ¹
                                                                                        # Ğ¼Ğ¸Ğ½ Ğ¸ ÑĞµĞº Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¹ Ğ´Ğ°Ñ‚Ñ‹ Ğ¿Ğ¾ Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ¾ Ğ¾Ñ‚Ñ‡ĞµÑ‚Ğ°.

    mm_s = mm * 60 # Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ğ¼Ğ¸Ğ½ÑƒÑ‚Ğµ 60 ÑĞµĞº.
    hh_s = hh * 3600 # Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ñ‡Ğ°ÑĞµ 3600 ÑĞµĞº.
    days_s = data.days * 86400 # Ğ² Ğ¾Ğ´Ğ½Ğ¸Ñ… ÑÑƒÑ‚ĞºĞ°Ñ… 86400 ÑĞµĞº.
    sum_s = mm_s + hh_s + days_s + ss # Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ğ» ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑĞµĞº Ğ·Ğ° Ğ²ĞµÑÑŒ Ğ¿ĞµÑ€Ğ¸Ğ¾Ğ´.
    # print(sum_s) # Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ Ğ¾Ğ±Ñ‰ĞµĞµ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑĞµĞºÑƒĞ½Ğ´.

    Julian_day = (sum_s / 86400) + 2440587.5 # Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ğ» ÑĞ»Ğ¸Ğ°Ğ½ÑĞºÑƒÑ Ğ´Ğ°Ñ‚Ñƒ.
    # print(JD)
    '''Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ° Ğ´Ğ½Ñ Ğ¿Ğ¾ ÑĞ»Ğ¸Ğ°Ğ½ÑĞºĞ¾Ğ¼Ñƒ ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€Ñ
    ĞŸĞµÑ€Ğ²Ğ¾-Ğ½Ğ°Ğ¿ĞµÑ€Ğ²Ğ¾ ÑĞ»ĞµĞ´ÑƒĞµÑ‚ ÑƒĞ·Ğ½Ğ°Ñ‚ÑŒ ÑĞ»Ğ¸Ğ°Ğ½ÑĞºÑƒÑ Ğ´Ğ°Ñ‚Ñƒ â€“ Ğ¾Ğ´Ğ½Ğ¾ Ğ¸Ğ· Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ñ… Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğ¹,
    Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ñ‹Ñ… Ğ´Ğ»Ñ Ğ´Ğ°Ğ»ÑŒĞ½ĞµĞ¹ÑˆĞ¸Ñ… Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ğ¹. Ğ•ÑÑ‚ÑŒ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ñ… Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ» Ğ¸ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ğ¾Ğ² Ñ€Ğ°Ğ·Ğ½Ğ¾Ğ¹ ÑÑ‚ĞµĞ¿ĞµĞ½Ğ¸ Ğ³Ñ€Ğ¾Ğ¼Ğ¾Ğ·Ğ´ĞºĞ¾ÑÑ‚Ğ¸,
    Ğ¾Ğ´Ğ½Ğ°ĞºĞ¾ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾Ğ¹Ñ‚Ğ¸ ĞºÑƒĞ´Ğ° Ğ±Ğ¾Ğ»ĞµĞµ Ğ¿Ñ€Ğ¾ÑÑ‚Ñ‹Ğ¼ Ğ¿ÑƒÑ‚ĞµĞ¼ Ğ¸ Ğ²Ğ¾ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ Ğ²Ñ€ĞµĞ¼ĞµĞ½ĞµĞ¼ UNIX. Ğ˜Ğ·Ğ²ĞµÑÑ‚Ğ½Ğ¾, Ñ‡Ñ‚Ğ¾:
    UNIXTIME = (JD â€“ 2440587.5) * 86400

    Ğ—Ğ½Ğ°Ñ‡Ğ¸Ñ‚
    JD = (UNIXTIME / 86400) + 2440587.5
    Ğ³Ğ´Ğµ UNIXTIME â€“ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑĞµĞºÑƒĞ½Ğ´, Ğ¿Ñ€Ğ¾ÑˆĞµĞ´ÑˆĞ¸Ñ… Ñ 1 ÑĞ½Ğ²Ğ°Ñ€Ñ 1970 Ğ³Ğ¾Ğ´Ğ°.
    Ğ¢Ğ¾, Ñ‡Ñ‚Ğ¾ Ğ² Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ½Ğ¾Ğ¼ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğµ Ğ¸Ğ´ĞµÑ‚ Ğ´Ğ¾ Ğ´ĞµÑÑÑ‚Ğ¸Ñ‡Ğ½Ğ¾Ğ¹ Ñ‚Ğ¾Ñ‡ĞºĞ¸ â€“ Ğ½Ğ¾Ğ¼ĞµÑ€ ÑĞ»Ğ¸Ğ°Ğ½ÑĞºĞ¾Ğ³Ğ¾ Ğ´Ğ½Ñ (JDN); Ğ¿Ğ¾ÑĞ»Ğµ Ñ‚Ğ¾Ñ‡ĞºĞ¸ â€“ Ñ‚ĞµĞºÑƒÑ‰ĞµĞµ Ğ²Ñ€ĞµĞ¼Ñ.
    Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ» Ñ€ĞµÑÑƒÑ€Ñ -> https://notesuse.blogspot.com/2017/12/python.html'''



    '''Ğ˜Ğ´ĞµÑ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ğ° Ğ½ĞµĞ¾Ğ±Ñ‹Ñ‡Ğ°Ğ¹Ğ½Ğ¾ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ° (Ğ²Ğ¸Ğ´Ğ¸Ğ¼Ğ¾, Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼Ñƒ ĞµĞ³Ğ¾ Ğ²ÑĞµ Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑÑ‚).
    Ğ—Ğ°Ğ´Ğ°Ğ½Ğ½Ğ°Ñ Ğ´Ğ°Ñ‚Ğ° Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ¸Ñ‚ÑÑ Ğ² Ğ®Ğ»Ğ¸Ğ°Ğ½ÑĞºĞ¸Ğµ Ğ´Ğ½Ğ¸ (Ğ²Ğ¾Ñ‚ Ğ¾Ğ½Ğ¸ Ğ¸ Ğ¿Ñ€Ğ¸Ğ³Ğ¾Ğ´Ğ¸Ğ»Ğ¸ÑÑŒ), Ğ¿Ğ¾ÑĞ»Ğµ Ñ‡ĞµĞ³Ğ¾ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ÑĞµÑ‚ÑÑ Ñ‡Ğ¸ÑĞ»Ğ¾ Ğ´Ğ½ĞµĞ¹,
    Ğ¿Ñ€Ğ¾ÑˆĞµĞ´ÑˆĞµĞµ Ñ Ğ¼Ğ°Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ ÑĞ»Ğ¸Ğ°Ğ½ÑĞºĞ¾Ğ¹ Ğ´Ğ°Ñ‚Ñ‹ 2451550.1
    Ğ­Ñ‚Ğ¾ 14:24 6 ÑĞ½Ğ²Ğ°Ñ€Ñ 2000 Ğ³Ğ¾Ğ´Ğ° â€” Ğ¸ Ñ Ğ¿Ğ¾Ğ´Ğ¾Ğ·Ñ€ĞµĞ²Ğ°Ñ, Ñ‡Ñ‚Ğ¾ ÑÑ‚Ğ¾ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ¾ Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ½Ğ¾Ğ³Ğ¾ Ğ»ÑƒĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¼ĞµÑÑÑ†Ğ° Ğ½Ğ° Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ğ°.
    ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ½Ğ°Ñ Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ğ° Ğ² Ğ´Ğ½ÑÑ… Ğ´ĞµĞ»Ğ¸Ñ‚ÑÑ Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ»ÑƒĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¼ĞµÑÑÑ†Ğ° â€” 29.530588853,
    Ğ¸ Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ğº Ğ¾Ñ‚ Ğ´ĞµĞ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ñ‚ÑŒ Ğ²Ğ¾Ğ·Ñ€Ğ°ÑÑ‚ Ğ»ÑƒĞ½Ñ‹. Ğ“Ğ´Ğµ Ğ²Ğ¾Ğ·Ñ€Ğ°ÑÑ‚, Ñ‚Ğ°Ğ¼ Ğ¸ Ñ„Ğ°Ğ·Ğ°.'''
    difference_day = Julian_day - 2451550.1 # Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ğ» Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ñƒ Ğ² ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğµ Ğ´Ğ½ĞµĞ¹.
    # print(difference_day)
    lunar_day = round(difference_day % 29.530588853) # Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ğº Ğ¾Ñ‚ Ğ´ĞµĞ»ĞµĞ½Ğ¸Ñ Ñ€Ğ°Ğ²ĞµĞ½ - Ğ›ÑƒĞ½Ğ½Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ. ))))

    return lunar_day

moon = moon_day()


def moon_age(day):
    if day >= 0 and day <= 15:
        return 'Ğ’Ğ¾Ğ·Ñ€Ğ°ÑÑ‚: Ğ Ğ°ÑÑ‚ÑƒÑ‰Ğ°Ñ Ğ»ÑƒĞ½Ğ°.'
    else:
        return 'Ğ’Ğ¾Ğ·Ñ€Ğ°ÑÑ‚: Ğ£Ğ±Ñ‹Ğ²Ğ°ÑÑ‰Ğ°Ñ Ğ»ÑƒĞ½Ğ°.'



def moon_phase(day):
    if day == 29 or day == 0 or day == 1:
        return 'Ğ¤Ğ°Ğ·Ğ°: ĞĞ¾Ğ²Ğ¾Ğ»ÑƒĞ½Ğ¸Ğµ. ' + emoji.emojize('ğŸŒ‘')
    if day >= 2 and day <= 5:
        return 'Ğ¤Ğ°Ğ·Ğ°: ĞœĞµĞ¶Ğ´Ñƒ Ğ½Ğ¾Ğ²Ğ¾Ğ»ÑƒĞ½Ğ¸ĞµĞ¼ Ğ¸ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¹ Ñ‡ĞµÑ‚Ğ²ĞµÑ€Ñ‚ÑŒÑ. ' + emoji.emojize('ğŸŒ’')
    if day >= 6 and day <= 9:
        return 'Ğ¤Ğ°Ğ·Ğ°: ĞŸĞµÑ€Ğ²Ğ°Ñ Ñ‡ĞµÑ‚Ğ²ĞµÑ€Ñ‚ÑŒ. ' + emoji.emojize('ğŸŒ“')
    if day >= 10 and day <= 12:
        return 'Ğ¤Ğ°Ğ·Ğ°: ĞœĞµĞ¶Ğ´Ñƒ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¹ Ñ‡ĞµÑ‚Ğ²ĞµÑ€Ñ‚ÑŒÑ Ğ¸ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ»ÑƒĞ½Ğ¸ĞµĞ¼. ' + emoji.emojize('ğŸŒ”')
    if day >= 13 and day <= 16:
        return 'Ğ¤Ğ°Ğ·Ğ°: ĞŸĞ¾Ğ»Ğ½Ğ¾Ğ»ÑƒĞ½Ğ¸Ğµ. ' + emoji.emojize('ğŸŒ•')
    if day >= 17 and day <= 20:
        return 'Ğ¤Ğ°Ğ·Ğ°: ĞœĞµĞ¶Ğ´Ñƒ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ»ÑƒĞ½Ğ¸ĞµĞ¼ Ğ¸ Ñ‚Ñ€ĞµÑ‚ÑŒĞµĞ¹ Ñ‡ĞµÑ‚Ğ²ĞµÑ€Ñ‚ÑŒÑ. ' + emoji.emojize('ğŸŒ–')
    if day >= 21 and day <= 23:
        return 'Ğ¤Ğ°Ğ·Ğ°: Ğ¢Ñ€ĞµÑ‚ÑŒÑ Ñ‡ĞµÑ‚Ğ²ĞµÑ€Ñ‚ÑŒ. ' + emoji.emojize('ğŸŒ—')
    if day >= 24 and day <= 28:
        return 'Ğ¤Ğ°Ğ·Ğ°: ĞœĞµĞ¶Ğ´Ñƒ Ñ‚Ñ€ĞµÑ‚ÑŒĞµĞ¹ Ñ‡ĞµÑ‚Ğ²ĞµÑ€Ñ‚ÑŒÑ Ğ¸ Ğ½Ğ¾Ğ²Ğ¾Ğ»ÑƒĞ½Ğ¸ĞµĞ¼. ' + emoji.emojize('ğŸŒ˜')


'''ĞœĞ¾Ğ¹ Ğ¿Ğ¾Ğ´ÑÑ‡ĞµÑ‚ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ°Ñ‚ÑŒÑÑ Ğ¾Ñ‚ Ğ¾Ğ½Ğ»Ğ°Ğ¹Ğ½ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€Ğ¾Ğ² Ğ»ÑƒĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ´Ğ½Ñ, Ñ‚Ğº Ñƒ Ğ¼ĞµĞ½Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ¾ ÑĞµĞºÑƒĞ½Ğ´,
Ğ° Ğ½Ğµ Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ, ĞºĞ°Ğº Ğ²Ğ¾ Ğ¼Ğ½Ğ¾Ğ³Ğ¸Ñ…, Ğ¿Ğ¾ Ğ³Ñ€Ğ¸Ğ½Ğ²Ğ¸Ñ‡Ñƒ.'''

'''Ğ˜ ÑĞ°Ğ¼Ğ¾Ğµ Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¯ Ğ¢ĞĞ›Ğ¬ĞšĞ Ğ£Ğ§Ğ£Ğ¡Ğ¬..'''

'''Ğ¡Ğ²ĞµÑ€ÑĞ» Ğ»ÑƒĞ½Ğ½Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ Ñ‚ÑƒÑ‚ -> https://planetcalc.ru/524/'''
'''Ğ¡Ğ²ĞµÑ€ÑĞ» Ğ®Ğ»Ğ¸Ğ°Ğ½ÑĞºÑƒÑ Ğ´Ğ°Ñ‚Ñƒ Ñ‚ÑƒÑ‚ -> https://planetcalc.ru/503/'''